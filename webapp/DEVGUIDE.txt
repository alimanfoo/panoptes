#Getting started - a little rough at the mo until we come to fix up the build and deploy system

sudo apt-get install mysql-server-5.6 mysql-client-5.6 git gcc gfortran python-dev python-virtualenv libblas-dev liblapack-dev cython libmysqlclient-dev libhdf5-serial-dev
git clone git@github.com:cggh/panoptes.git
cd panoptes
git checkout react
cp config.py.example config.py
nano config.py #Edit config for DB, paths

#Install all the things (dev mode largely irrelevant for react dev so far, but we'll use that anyway)
./scripts/build.sh DEV


#The old build system has not been fully adapted to the react world yet. So you have to run the backend server AND the dev html/js server.
#First run the backend server
./scripts/run.sh

#In another terminal
#Then import one of the sample datasets
curl 'http://localhost:8000/api?datatype=custom&respmodule=panoptesserver&respid=fileload_dataset&ScopeStr=all&SkipTableTracks=false&datasetid=Samples_and_Variants'

#Now we need to setup the JS build env
sudo apt-get install nodejs npm
#Update npm
sudo npm install -g npm
#Update node
sudo npm cache clean -f
sudo npm install -g n
sudo n stable

#Now install dependancies
cd webapp
npm install

#Now run the dev html/js server
npm run dev          #(options are dev, build, serveprod)

#Navigate to http://localhost:8080/webpack-dev-server/index.html
#Any changes you save to files will now be detected and applied (sometimes you have to hit refresh, but most things are hotloaded)




